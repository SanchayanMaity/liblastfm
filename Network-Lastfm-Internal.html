<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Network.Lastfm.Internal</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Network-Lastfm-Internal.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Network-Lastfm-Internal.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">liblastfm-0.5.0: Lastfm API interface</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Network.Lastfm.Internal</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Lenses</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>liblastfm internals</p><p>You shouldn't need to import this module unless you are doing something interesting.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">newtype</span> <a href="#t:Request">Request</a> f a = <a href="#v:Request">Request</a> {<ul class="subs"><li><a href="#v:unRequest">unRequest</a> :: <a href="http://hackage.haskell.org/package/base/docs/Control-Applicative.html#t:Const">Const</a> (<a href="http://hackage.haskell.org/package/base/docs/Data-Monoid.html#t:Dual">Dual</a> (<a href="http://hackage.haskell.org/package/base/docs/Data-Monoid.html#t:Endo">Endo</a> (<a href="Network-Lastfm-Internal.html#t:R">R</a> f))) a</li></ul>}</li><li class="src short"><span class="keyword">data</span> <a href="#t:Format">Format</a><ul class="subs"><li>= <a href="#v:JSON">JSON</a></li><li>| <a href="#v:XML">XML</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Ready">Ready</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Sign">Sign</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:R">R</a> f = <a href="#v:R">R</a> {<ul class="subs"><li><a href="#v:_host">_host</a> :: !<a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a></li><li><a href="#v:_method">_method</a> :: !<a href="http://hackage.haskell.org/package/bytestring/docs/Data-ByteString.html#t:ByteString">ByteString</a></li><li><a href="#v:_query">_query</a> :: !(<a href="http://hackage.haskell.org/package/containers/docs/Data-Map-Lazy.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a>)</li></ul>}</li><li class="src short"><a href="#v:wrap">wrap</a> ::  (<a href="Network-Lastfm-Internal.html#t:R">R</a> f -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> f) -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a</li><li class="src short"><a href="#v:unwrap">unwrap</a> ::  <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> f -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> f</li><li class="src short"><a href="#v:render">render</a> ::  <a href="Network-Lastfm-Internal.html#t:R">R</a> f -&gt; <a href="http://hackage.haskell.org/package/base/docs/Data-String.html#t:String">String</a></li><li class="src short"><a href="#v:coerce">coerce</a> ::  <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f b</li><li class="src short"><a href="#v:absorbQuery">absorbQuery</a> :: <a href="http://hackage.haskell.org/package/base/docs/Data-Foldable.html#t:Foldable">Foldable</a> t =&gt; t (<a href="Network-Lastfm-Internal.html#t:Request">Request</a> f b) -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a</li><li class="src short"><a href="#v:indexedWith">indexedWith</a> ::  <a href="http://hackage.haskell.org/package/base/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a</li><li class="src short"><a href="#v:host">host</a> :: <a href="http://hackage.haskell.org/package/base/docs/Control-Monad.html#t:Functor">Functor</a> f =&gt; (<a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> -&gt; f <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a>) -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> h -&gt; f (<a href="Network-Lastfm-Internal.html#t:R">R</a> h)</li><li class="src short"><a href="#v:method">method</a> :: <a href="http://hackage.haskell.org/package/base/docs/Control-Monad.html#t:Functor">Functor</a> f =&gt; (<a href="http://hackage.haskell.org/package/bytestring/docs/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; f <a href="http://hackage.haskell.org/package/bytestring/docs/Data-ByteString.html#t:ByteString">ByteString</a>) -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> h -&gt; f (<a href="Network-Lastfm-Internal.html#t:R">R</a> h)</li><li class="src short"><a href="#v:query">query</a> :: <a href="http://hackage.haskell.org/package/base/docs/Control-Monad.html#t:Functor">Functor</a> f =&gt; (<a href="http://hackage.haskell.org/package/containers/docs/Data-Map-Lazy.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> -&gt; f (<a href="http://hackage.haskell.org/package/containers/docs/Data-Map-Lazy.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a>)) -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> h -&gt; f (<a href="Network-Lastfm-Internal.html#t:R">R</a> h)</li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">newtype</span> <a name="t:Request" class="def">Request</a> f a <a href="src/Network-Lastfm-Internal.html#Request" class="link">Source</a></p><div class="doc"><p>Lastfm API request data type</p><p><code>a</code> is the authentication state. Can be <code><a href="Network-Lastfm-Internal.html#t:Ready">Ready</a></code>, which means this <code><a href="Network-Lastfm-Internal.html#t:Request">Request</a></code> is
 ready to be sent, or <code><a href="Network-Lastfm-Internal.html#t:Sign">Sign</a></code>, if the request signature hasn't been computed yet</p><p><code>f</code> is the response format (liblastfm supports both <code><a href="Network-Lastfm-Internal.html#v:JSON">JSON</a></code> and <code><a href="Network-Lastfm-Internal.html#v:XML">XML</a></code>)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Request" class="def">Request</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:unRequest" class="def">unRequest</a> :: <a href="http://hackage.haskell.org/package/base/docs/Control-Applicative.html#t:Const">Const</a> (<a href="http://hackage.haskell.org/package/base/docs/Data-Monoid.html#t:Dual">Dual</a> (<a href="http://hackage.haskell.org/package/base/docs/Data-Monoid.html#t:Endo">Endo</a> (<a href="Network-Lastfm-Internal.html#t:R">R</a> f))) a</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:Request" class="caption collapser" onclick="toggleSection('i:Request')">Instances</p><div id="section.i:Request" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Control-Monad.html#t:Functor">Functor</a> (<a href="Network-Lastfm-Internal.html#t:Request">Request</a> f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Control-Applicative.html#t:Applicative">Applicative</a> (<a href="Network-Lastfm-Internal.html#t:Request">Request</a> f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Foldable.html#t:Foldable">Foldable</a> (<a href="Network-Lastfm-Internal.html#t:Request">Request</a> f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Traversable.html#t:Traversable">Traversable</a> (<a href="Network-Lastfm-Internal.html#t:Request">Request</a> f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Typeable-Internal.html#t:Typeable">Typeable</a> (<a href="Network-Lastfm-Internal.html#t:Format">Format</a> -&gt; * -&gt; *) <a href="Network-Lastfm-Internal.html#t:Request">Request</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Format" class="def">Format</a> <a href="src/Network-Lastfm-Internal.html#Format" class="link">Source</a></p><div class="doc"><p>Response format: either JSON or XML</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:JSON" class="def">JSON</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:XML" class="def">XML</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:Format" class="caption collapser" onclick="toggleSection('i:Format')">Instances</p><div id="section.i:Format" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Network-Lastfm-Internal.html#t:Format">Format</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Network-Lastfm-Internal.html#t:Format">Format</a> <a href="Network-Lastfm-Internal.html#v:XML">XML</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Typeable-Internal.html#t:Typeable">Typeable</a> <a href="Network-Lastfm-Internal.html#t:Format">Format</a> <a href="Network-Lastfm-Internal.html#v:JSON">JSON</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Typeable-Internal.html#t:Typeable">Typeable</a> (<a href="Network-Lastfm-Internal.html#t:Format">Format</a> -&gt; * -&gt; *) <a href="Network-Lastfm-Internal.html#t:Request">Request</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Typeable-Internal.html#t:Typeable">Typeable</a> (<a href="Network-Lastfm-Internal.html#t:Format">Format</a> -&gt; *) <a href="Network-Lastfm-Internal.html#t:R">R</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Ready" class="def">Ready</a> <a href="src/Network-Lastfm-Internal.html#Ready" class="link">Source</a></p><div class="doc"><p>Request that is ready to be sent</p></div><div class="subs instances"><p id="control.i:Ready" class="caption collapser" onclick="toggleSection('i:Ready')">Instances</p><div id="section.i:Ready" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Network-Lastfm-Internal.html#t:Ready">Ready</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-Lastfm-Track.html#t:ArtistTrackOrMBID">ArtistTrackOrMBID</a> (<a href="Network-Lastfm-Request.html#t:MBID">MBID</a> -&gt; <a href="Network-Lastfm-Request.html#t:APIKey">APIKey</a> -&gt; <a href="Network-Lastfm-Internal.html#t:Ready">Ready</a>)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Network-Lastfm-Track.html#t:ArtistTrackOrMBID">ArtistTrackOrMBID</a> (<a href="Network-Lastfm-Request.html#t:Artist">Artist</a> -&gt; <a href="Network-Lastfm-Request.html#t:Track">Track</a> -&gt; <a href="Network-Lastfm-Request.html#t:APIKey">APIKey</a> -&gt; <a href="Network-Lastfm-Internal.html#t:Ready">Ready</a>)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Sign" class="def">Sign</a> <a href="src/Network-Lastfm-Internal.html#Sign" class="link">Source</a></p><div class="doc"><p>Request that requires signing procedure</p></div><div class="subs instances"><p id="control.i:Sign" class="caption collapser" onclick="toggleSection('i:Sign')">Instances</p><div id="section.i:Sign" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Typeable-Internal.html#t:Typeable">Typeable</a> * <a href="Network-Lastfm-Internal.html#t:Sign">Sign</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:R" class="def">R</a> f <a href="src/Network-Lastfm-Internal.html#R" class="link">Source</a></p><div class="doc"><p>Lastfm API request data type</p><p>low-level representation</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:R" class="def">R</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:_host" class="def">_host</a> :: !<a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_method" class="def">_method</a> :: !<a href="http://hackage.haskell.org/package/bytestring/docs/Data-ByteString.html#t:ByteString">ByteString</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:_query" class="def">_query</a> :: !(<a href="http://hackage.haskell.org/package/containers/docs/Data-Map-Lazy.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a>)</dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:R" class="caption collapser" onclick="toggleSection('i:R')">Instances</p><div id="section.i:R" class="show"><table><tr><td class="src"><a href="http://hackage.haskell.org/package/cereal/docs/Data-Serialize.html#t:Serialize">Serialize</a> (<a href="Network-Lastfm-Internal.html#t:R">R</a> f)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="http://hackage.haskell.org/package/base/docs/Data-Typeable-Internal.html#t:Typeable">Typeable</a> (<a href="Network-Lastfm-Internal.html#t:Format">Format</a> -&gt; *) <a href="Network-Lastfm-Internal.html#t:R">R</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:wrap" class="def">wrap</a> ::  (<a href="Network-Lastfm-Internal.html#t:R">R</a> f -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> f) -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a <a href="src/Network-Lastfm-Internal.html#wrap" class="link">Source</a></p><div class="doc"><p>Wrapping to interesting <code><a href="http://hackage.haskell.org/package/base/docs/Data-Monoid.html#t:Monoid">Monoid</a></code> (<code><a href="Network-Lastfm-Internal.html#t:R">R</a></code> -&gt; <code><a href="Network-Lastfm-Internal.html#t:R">R</a></code>) instance</p></div></div><div class="top"><p class="src"><a name="v:unwrap" class="def">unwrap</a> ::  <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> f -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> f <a href="src/Network-Lastfm-Internal.html#unwrap" class="link">Source</a></p><div class="doc"><p>Unwrapping from interesting <code><a href="http://hackage.haskell.org/package/base/docs/Data-Monoid.html#t:Monoid">Monoid</a></code> (<code><a href="Network-Lastfm-Internal.html#t:R">R</a></code> -&gt; <code><a href="Network-Lastfm-Internal.html#t:R">R</a></code>) instance</p></div></div><div class="top"><p class="src"><a name="v:render" class="def">render</a> ::  <a href="Network-Lastfm-Internal.html#t:R">R</a> f -&gt; <a href="http://hackage.haskell.org/package/base/docs/Data-String.html#t:String">String</a> <a href="src/Network-Lastfm-Internal.html#render" class="link">Source</a></p><div class="doc"><p>Construct String from request for networking</p></div></div><div class="top"><p class="src"><a name="v:coerce" class="def">coerce</a> ::  <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f b <a href="src/Network-Lastfm-Internal.html#coerce" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:absorbQuery" class="def">absorbQuery</a> :: <a href="http://hackage.haskell.org/package/base/docs/Data-Foldable.html#t:Foldable">Foldable</a> t =&gt; t (<a href="Network-Lastfm-Internal.html#t:Request">Request</a> f b) -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a <a href="src/Network-Lastfm-Internal.html#absorbQuery" class="link">Source</a></p><div class="doc"><p>Absorbing a bunch of queries, useful in batch operations</p></div></div><div class="top"><p class="src"><a name="v:indexedWith" class="def">indexedWith</a> ::  <a href="http://hackage.haskell.org/package/base/docs/Data-Int.html#t:Int">Int</a> -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a -&gt; <a href="Network-Lastfm-Internal.html#t:Request">Request</a> f a <a href="src/Network-Lastfm-Internal.html#indexedWith" class="link">Source</a></p><div class="doc"><p>Transforming Request to the &quot;array notation&quot;</p></div></div><h1 id="g:1">Lenses</h1><div class="top"><p class="src"><a name="v:host" class="def">host</a> :: <a href="http://hackage.haskell.org/package/base/docs/Control-Monad.html#t:Functor">Functor</a> f =&gt; (<a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> -&gt; f <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a>) -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> h -&gt; f (<a href="Network-Lastfm-Internal.html#t:R">R</a> h) <a href="src/Network-Lastfm-Internal.html#host" class="link">Source</a></p><div class="doc"><p><code><a href="Network-Lastfm-Internal.html#t:Request">Request</a></code> <code><a href="Network-Lastfm-Internal.html#v:_host">_host</a></code></p></div></div><div class="top"><p class="src"><a name="v:method" class="def">method</a> :: <a href="http://hackage.haskell.org/package/base/docs/Control-Monad.html#t:Functor">Functor</a> f =&gt; (<a href="http://hackage.haskell.org/package/bytestring/docs/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; f <a href="http://hackage.haskell.org/package/bytestring/docs/Data-ByteString.html#t:ByteString">ByteString</a>) -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> h -&gt; f (<a href="Network-Lastfm-Internal.html#t:R">R</a> h) <a href="src/Network-Lastfm-Internal.html#method" class="link">Source</a></p><div class="doc"><p><code><a href="Network-Lastfm-Internal.html#t:Request">Request</a></code> HTTP <code><a href="Network-Lastfm-Internal.html#v:_method">_method</a></code></p></div></div><div class="top"><p class="src"><a name="v:query" class="def">query</a> :: <a href="http://hackage.haskell.org/package/base/docs/Control-Monad.html#t:Functor">Functor</a> f =&gt; (<a href="http://hackage.haskell.org/package/containers/docs/Data-Map-Lazy.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> -&gt; f (<a href="http://hackage.haskell.org/package/containers/docs/Data-Map-Lazy.html#t:Map">Map</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a> <a href="http://hackage.haskell.org/package/text/docs/Data-Text.html#t:Text">Text</a>)) -&gt; <a href="Network-Lastfm-Internal.html#t:R">R</a> h -&gt; f (<a href="Network-Lastfm-Internal.html#t:R">R</a> h) <a href="src/Network-Lastfm-Internal.html#query" class="link">Source</a></p><div class="doc"><p><code><a href="Network-Lastfm-Internal.html#t:Request">Request</a></code> <code><a href="Network-Lastfm-Internal.html#v:_query">_query</a></code> string</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.14.3</p></div></body></html>