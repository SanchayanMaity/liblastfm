language: haskell

before_install:
    - cabal install cpphs

install:
    - cabal install --enable-tests --only-dependencies -ftest-api liblastfm.cabal examples/liblastfm-examples.cabal

script:
    - cabal configure --enable-tests -ftest-api
    - cabal build
    - cabal test spec
    - cabal install liblastfm.cabal examples/liblastfm-examples.cabal
